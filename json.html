<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
</head>
<body>

<h1>JSON Data Serialization and Deserialization</h1><br/>

<h3>The following is a simple example of JSON Data Serialization</h3>

<pre>
var text = '{"name":"Amy Williams","street":"Centennial street","phone":"(801)390-3818"}';
</pre>

<h4>Here is an example of JSON deserialization</h4>

<pre>
var obj = JSON.parse(text);

document.getElementById("demo").innerHTML =
obj.name +
obj.street +
obj.phone;
</pre>

<h4>And the observed results are below:</h4>

<pre id="demo"></pre><br/>

<h3>The following is a more complex example of JSON Data Serialization</h3>

<pre>
{"employees":[
  {"firstName":"John", "lastName":"Doe"},
  {"firstName":"Anna", "lastName":"Smith"},
  {"firstName":"Peter","lastName": "Jones"}
]}
</pre>

<h4>And the corresponding deserialization code:</h4>
<pre>
var obj2 = JSON.parse(emp);

var text2 = "";

for (var i = 0; i < 3; i++) {
  text2 += obj2.employees[i].firstName + " ";
  text2 += obj2.employees[i].lastName;
}

document.getElementById("demo2").innerHTML = text2;
</pre>
<h4>And the observed results are below:</h4>
<pre id="demo2"></pre>

<h4>JSON objects may also be turned into a simple string</h4>
<p>JSON.stringify stores that JSON text in a string. Note that obj2 is the same parsed version of the employees array. This turns JSON into a simple string that can later be parsed. This can be useful in using JSON objects in local storage.</p>

<pre>
text2 = JSON.stringify(obj2);</pre>
<h4>Results:</h4>
<p id="demo3"></p>

<script>

// Serializing information about a person
var text = '{"name":"Amy Williams","street":"Garland street","phone":"(801)390-3818"}';

// Parsing data
var obj = JSON.parse(text);

// Access and Display
document.getElementById("demo").innerHTML =
obj.name + "<br>" +
obj.street + "<br>" +
obj.phone;

// Serializing information about employees
var emp = '{"employees":[{"firstName":"John", "lastName":"Doe"},{"firstName":"Anna", "lastName":"Smith"},{"firstName":"Peter", "lastName":"Jones"}]}';

// Parsing data
var obj2 = JSON.parse(emp);

// Iteratively Access and Display
var text2 = "";

for (var i = 0; i < 3; i++) {
text2 += obj2.employees[i].firstName + " ";
text2 += obj2.employees[i].lastName + "<br/>";
}

document.getElementById("demo2").innerHTML = text2;

// Stringify
text2 = JSON.stringify(obj2);
document.getElementById("demo3").innerHTML = text2;

</script>

</body>
</html>
